<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprZombie</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>sprZombieMask</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>CanBeFumeTimer = 0;
CanBeFume = true;
IsIce = false;
SNDHitActivate = false;
HitAlpha = 0.5;
Hit = false;
GetGroundPlants();
SetOwnDayAlpha();
BaseISinit = 0.15;
BaseIS = BaseISinit;
CoolRythmS = 1;
FreezedRD = 0.005;
CanWalk = 1;
CoolRythm = CoolRythmS;
Col = false;
image_speed = 0.15;
FreezedTime = 0;
FreezeType = 1;
FreezePercent = 0;
HandFrame = 16;
MinChompDistance = 14;
SetZombie(global.BasicHealth,0,2,"sprZombieHandMove","sprZombieHandEating",3,-10,global.BasicHealth,12,-1,"sprZombie","sprZombieEating",random_range(-0.22,-0.23));
depth = -(y / global.YGrid) - 1;
IceSlow = 1;
Damage = 1;
CoolDown = 0;
CoolDownBase = 22;
DCT = DayColour;
DCTF = make_colour_rgb(0,0,50);
alarm[0] = 5;
ObjPositionX = 0;
DecoActive = false;
IceCoolDown = 0;
IsFire = false;
FireCoolDown = 5;
EatingSA = 18;
GulpSA = 19;
FireTimer = FireCoolDown;
debug = false;
IsGarg = false;
Chomped = false;
//if collision_rectangle(bbox_left-2,bbox_bottom,bbox_right+2,bbox_top,objZombieParent,1,1){x += 20;}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.WaveZombies-= Defense + 1;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch Defense
{
case 0:
ZombieType = "Basic";
HP = global.BasicHealth;
MaxHP = global.BasicHealth;
break;

case 1:
ZombieType = "Cone"//choose("Cone","PoleVaulter");
HP += global.ConeHealth;
ObjPositionX = -4;
MaxHP += global.ConeHealth;
break;

case 2:
ZombieType = "Bucket";
ZombieIdleSprite = "sprZombieB";
ZombieEatSprite = "sprZombieEatingB";
ObjPositionX = -6;
HP += global.ShieldHealth;
MaxHP += global.ShieldHealth;
break;
}

y = floor(y / 48) * 48+10;

visible = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>CanBeFumeTimer+= (place_meeting(x,y,objPea));

if !place_meeting(x,y,objPea) or CanBeFumeTimer &gt; 8{CanBeFume = true;CanBeFumeTimer = 0;}

IsNormal = (image_blend == c_white);

Plantptr = collision_rectangle(bbox_left-1,bbox_top,bbox_right-1,bbox_bottom,objCommonPlantParent,1,0);

if Hit{ZombieHitSNDManagement();image_alpha = HitAlpha;Hit = false;SNDHitActivate = false;}

if hspeed != 0{image_xscale = -sign(hspeed);sprite_index = asset_get_index(ZombieIdleSprite);}
if CanWalk &amp;&amp; hspeed == 0{sprite_index = asset_get_index(ZombieEatSprite);}

if image_alpha &lt; 1{image_alpha += 0.05;}

FireTimer-=IsFire;

if FreezePercent &gt;= 100{image_index = 0;BaseIS = 0;CanWalk = 0;FreezedTime = global.MaxFreezedTime[FreezeType];FreezePercent = 0;}

if !CanWalk{if !Plantptr or Plantptr.IsGround{sprite_index = asset_get_index(ZombieIdleSprite);};FreezedTime--;BaseIS = 0;if FreezedTime &lt;= 0{BaseIS = BaseISinit;CanWalk = 1;FreezedTime = global.MaxFreezedTime[FreezeType];IceCoolDown = global.ZIceCD;}}

if FireTimer &lt; 0{IsFire = false;FireTimer = FireCoolDown;}

if !IsNormal{IceSlow = CanWalk/2;CoolRythm = IceSlow;IceCoolDown-=1 - (FreezePercent)/100;FreezePercent-= FreezedRD * (FreezePercent &gt; 20) * (FreezePercent &gt; 0);BaseIS = BaseISinit/2;DayColour = DCTF;if IceCoolDown &lt;= 0 or IsFire{BaseIS = BaseISinit;image_blend = c_white;DayColour = DCT;FreezePercent = 0;CoolRythm = CoolRythmS;}}else{IceSlow = 1;
BaseIS = BaseISinit;}

image_speed = BaseIS * CanWalk;

CoolDown-= (CoolDown &gt; 0) * CoolRythm;

if !Plantptr or Plantptr.IsGround{if image_index &lt;= 7{hspeed = (Speed) * IceSlow;}}


hspeed -= (image_index &gt; 7) * Speed * 0.1 * (hspeed &lt; -0.1 or hspeed &gt; 0.1) * CanWalk;

HandFrame = HandPositionY + (image_index &gt;= 5 &amp;&amp; image_index &lt; 8) + (image_index &gt;= 6 &amp;&amp; image_index &lt; 7);
objFrame = HandPositionY + (image_index &gt;= 6 &amp;&amp; image_index &lt; 8) + (image_index &gt;= 3 &amp;&amp; image_index &lt; 5);// + (image_index &gt;= 6 &amp;&amp; image_index &lt; 8);
objEatingX = ObjPositionX + (image_index &gt;= 2 &amp;&amp; image_index &lt; 3) + (image_index &gt;= 5 &amp;&amp; image_index &lt; 6);
objEatingY = HandPositionY + (image_index &gt;= 1 &amp;&amp; image_index &lt; 3) + (image_index &gt;= 2 &amp;&amp; image_index &lt; 3) + (image_index &gt;= 4 &amp;&amp; image_index &lt; 6) * 2;

if Chomped == false{
if HP &lt;= 0{with instance_create(x-(11*image_xscale),y,objZombieHead){image_xscale = other.image_xscale};with instance_create(x,y,objZombieDeath){image_xscale = other.image_xscale};instance_destroy();}

if x &lt; view_xview+24{audio_play_sound(SND_Scream,1,0);show_message("AJAJAJAJAJA");game_end();}


if ((MaxHP &gt; global.BasicHealth+1) &amp;&amp; (HP &lt;= global.BasicHealth) &amp;&amp; (!DecoActive)){with instance_create(x+(ObjPositionX*image_xscale * (hspeed != 0) + objEatingX * (hspeed == 0)),y-31+(objFrame * (hspeed != 0) + objEatingY * (hspeed == 0)),objZombieHand){sprite_index = asset_get_index("spr" + other.ZombieType);image_index = 2;image_speed = 0;image_xscale = other.image_xscale;yMax = y+30;Extra = 1;other.DecoActive = true;}MaxHP = global.BasicHealth;}

if (Active &amp;&amp; HP &lt;= global.BasicHealth / 2){with instance_create(x+HandPositionX*image_xscale,y+HandPositionY,objZombieHand){image_xscale = other.image_xscale};Active = false;}
}
else
{
instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objCommonPlantParent">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !other.IsGround
{
hspeed = 0;
if CoolDown &lt;= 0{other.HP-= Damage;CoolDown = CoolDownBase;EatingSA = choose(17,18);SoundManagement(EatingSA,0,global.SoundVolume);
randomize();}
if other.HP &lt;= 0{SoundManagement(GulpSA,0,global.SoundVolume);} 
if place_meeting(x,y,objChomper) &amp;&amp; other.image_index &gt; other.MinFrameAttack-1 &amp;&amp; !IsGarg &amp;&amp; other.sprite_index != asset_get_index(other.BaseSpr) &amp;&amp; collision_rectangle(bbox_left,bbox_top,bbox_right+global.CloseRange-MinChompDistance,bbox_bottom,objZombieParent,1,1){HP = 0;SoundManagement(global.BonkSA,0,global.SoundVolume);}
}
else
{
if !other.DoDamage{HP -= other.Damage;other.CanHit = false;other.CoolDown = other.MaxCD;Hit = true;}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objChompz">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !IsGarg &amp;&amp; HP &gt; 0{Chomped = true;other.destroy = 2;}else{HP -= other.Damage;Hit = true;other.destroy = 1;}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objPotatoMineDamage">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>HP-= other.Damage;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objPea">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if other.sprite_index == asset_get_index("spr" + other.DestroySprite) &amp;&amp; other.sprite_index != sprPea &amp;&amp; (other.sprite_index == sprFirePeaV) &amp;&amp; other.image_index == 0{HP-= other.Damage/2;Hit = true;global.IsFire = true;global.FreezePercent=0;}
if other.CanFume &amp;&amp; (CanBeFume){CanBeFume = false;CanBeHit = false;HP-= other.Damage;Hit = true;}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if debug{HP -= 11;}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !Col{if collision_rectangle(bbox_left-2,bbox_bottom,bbox_right-1,bbox_top,objZombieParent,1,1){x += 28;Col = true;}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>LocAlpha = global.ShadeAlpha * ((image_alpha &gt;= 1)) + ((image_alpha &lt; 1) * 0.4 * image_alpha)-((image_blend != c_white) * 0.2);

draw_self();
draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale,image_angle,DayColour,LocAlpha);
if (HP &gt; global.BasicHealth/2){
if (hspeed == 0 &amp;&amp; (CanWalk or place_meeting(x,y,objCommonPlantParent))){
draw_sprite_ext(asset_get_index(ZombieEatHand),image_index,x,y,image_xscale,image_yscale,0,image_blend,image_alpha);
draw_sprite_ext(asset_get_index(ZombieEatHand),image_index,x,y,image_xscale,image_yscale,0,DayColour,LocAlpha);
}
else{draw_sprite_ext(asset_get_index(ZombieHand),image_index,x,y,image_xscale,image_yscale,0,image_blend,image_alpha);
draw_sprite_ext(asset_get_index(ZombieHand),image_index,x,y,image_xscale,image_yscale,0,DayColour,LocAlpha);
}
}
if (HP &gt; global.BasicHealth){
draw_sprite_ext(asset_get_index("spr" + ZombieType),(HP &lt; MaxHP / 1.5) + (HP &lt; MaxHP / 2),x+((ObjPositionX+ObjMovementDiff())*image_xscale * (hspeed != 0) + objEatingX * (hspeed == 0)),y-31+(objFrame * (hspeed != 0) + objEatingY * (hspeed == 0)),image_xscale,image_yscale,0,image_blend,image_alpha);
draw_sprite_ext(asset_get_index("spr" + ZombieType),(HP &lt; MaxHP / 1.5) + (HP &lt; MaxHP / 2),x+((ObjPositionX+ObjMovementDiff()) *image_xscale * (hspeed != 0) + objEatingX * (hspeed == 0)),y-31+(objFrame * (hspeed != 0) + objEatingY * (hspeed == 0)),image_xscale,image_yscale,0,DayColour,LocAlpha);
}
else
{
ZombieIdleSprite = "sprZombie";
ZombieEatSprite = "sprZombieEating";
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="68">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>debug = !debug;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>332</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_end_game</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
